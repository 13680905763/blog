# 运算符

JavaScript 按照使用场景的不同将运算符分成了很多种类型：

- 算术运算符/赋值运算符/关系(比较)运算符/逻辑运算符

## 算术运算符

![算术运算符](/img/web/javascript/js-base/运算符/算术运算符.jpg)

## 赋值运算符

= 是一个运算符

### 原地修改

![原地修改](/img/web/javascript/js-base/运算符/原地修改.jpg)

### 自增、自减

- 对一个数进行加一、减一是最常见的数学运算符之一。
- 所以，对此有一些专门的运算符：
  - 自增 ++ 将变量加 1；
  - 自减 -- 将变量减 1；
- 自增/自减只能应用于变量。
  - 将其应用于数值（比如 5++）则会报错。

运算符 ++ 和 -- 可以置于变量前，也可以置于变量后。

- 当运算符置于变量后，被称为“后置形式”（postfix form）：counter++。
- 当运算符置于变量前，被称为“前置形式”（prefix form）：++counter。
- 两者都做同一件事：将变量 counter 与 1 相加。

他们有什么区别吗？

- 有，但只有当我们使用 ++/-- 的返回值时才能看到区别；
- 如果自增/自减的值不会被使用，那么两者形式没有区别；
- 如果我们想要对变量进行自增操作，并且 需要立刻使用自增后的值，那么我们需要使用前置形式；
- 前置形式返回一个新的值，但后置返回原来的值；

## [运算符的优先级](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Operator_Precedence#%E6%B1%87%E6%80%BB%E8%A1%A8)

## 比较运算符

![比较运算符](/img/web/javascript/js-base/运算符/比较运算符.jpg)

### === 和 == 的区别

- 普通的相等性检查 == 存在一个问题，它不能区分出 0 和 false，或者空字符串和 false 这类运算：
  - 这是因为在比较不同类型的值时，处于判断符号 == 两侧的值会先被转化为数字；
  - 空字符串和 false 也是如此，转化后它们都为数字 0；
- 如果我们需要区分 0 和 false，该怎么办？
  - 严格相等运算符 === 在进行比较时不会做任何的类型转换；
  - 换句话说，如果 a 和 b 属于不同的数据类型，那么 a === b 不会做任何的类型转换而立刻返回 false；
- 同样的，“不相等”符号 != 类似，“严格不相等”表示为 !==。
- 严格相等的运算符虽然写起来稍微长一些，但是它能够很清楚地显示代码意图，降低你犯错的可能性

## 逻辑运算符

逻辑运算符，主要是由三个：

- ||（或），&&（与），!（非）
- 它可以将多个表达式或者值放到一起来获取到一个最终的结果；

![逻辑运算符](/img/web/javascript/js-base/运算符/逻辑运算符.jpg)

- 有了逻辑运算符，我们就可以在判断语句中编写多个条件。

### 逻辑或的本质

- ||（或）两个竖线符号表示“或”运算符（也称为短路或）：
  - 从左到右依次计算操作数。
  - 处理每一个操作数时，都将其转化为布尔值（Boolean）；
  - 如果结果是 true，就停止计算，返回这个操作数的初始值。
  - 如果所有的操作数都被计算过（也就是，转换结果都是 false），则返回最后一个操作数。
- 注意：返回的值是操作数的初始形式，不会转换为 Boolean 类型。
- 换句话说，一个或运算 || 的链，将返回第一个真值，如果不存在真值，就返回该链的最后一个值。

```js
var showName = name || defaultName
```

### 逻辑与的本质

- &&（或）两个竖线符号表示“与”运算符（也称为短路与）：
  - 从左到右依次计算操作数。
  - 在处理每一个操作数时，都将其转化为布尔值（Boolean）；
  - 如果结果是 false，就停止计算，并返回这个操作数的初始值（一般不需要获取到初始值）；
  - 如果所有的操作数都被计算过（例如都是真值），则返回最后一个操作数。
- 换句话说，与运算 返回第一个假值，如果没有假值就返回最后一个值。

### !（非）

- 逻辑非运算符接受一个参数，并按如下运算：
  1. 将操作数转化为布尔类型：true/false；
  2. 返回相反的值；
- 两个非运算 !! 有时候用来将某个值转化为布尔类型：
  - 也就是，第一个非运算将该值转化为布尔类型并取反，第二个非运算再次取反。
  - 最后我们就得到了一个任意值到布尔值的转化。

## 三元运算符

- 有时我们需要根据一个条件去赋值一个变量。
  - 比如比较数字大小的时候，获取较大的数字；
  - 这个时候 if else 语句就会显得过于臃肿，有没有更加简介的方法呢？
- 条件运算符：’?’
  - 这个运算符通过问号 ? 表示；
  - 有时它被称为三元运算符，被称为“三元”是因为该运算符中有三个操作数（运算元）；
  - 实际上它是 JavaScript 中唯一一个有这么多操作数的运算符；
- 使用格式如下:

  ```js
  var result = condition ? value1 : value2
  ```

  - 计算条件结果，如果结果为真，则返回 value1，否则返回 value2。
