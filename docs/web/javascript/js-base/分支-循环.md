# 分支-循环

程序有三种不同的执行方式

- 顺序 ： 从上向下，顺序执行代码
- 分支 ： 根据条件判断，决定执行代码的 分支
- 循环 ： 让 特定代码 重复 执行

![执行方式](/img/web/javascript/js-base/分支-循环/执行方式.jpg)

## 代码块

- 代码块是多行执行代码的集合，通过一个花括号{}放到了一起。
  - 在开发中，一行代码很难完成某一个特定的功能，我们就会将这些代码放到一个代码块中
- 在 JavaScript 中，我们可以通过流程控制语句来决定如何执行一个代码块：
  - 通常会通过一些关键字来告知 js 引擎代码要如何被执行；
  - 比如分支语句、循环语句对应的关键字等；

## 分支结构

- 分支结构
  - 分支结构的代码就是让我们根据条件来决定代码的执行
  - 分支结构的语句被称为判断结构或者选择结构.
  - 几乎所有的编程语言都有分支结构（C、C++、OC、JavaScript 等等）
- JavaScript 中常见的分支结构有：
  - if 分支结构
  - switch 分支结构

### if 分支语句

if 分支结构有三种：

- 单分支结构
  - if..
- 多分支结构
  - if..else..
  - if..else if..else..

#### if

1. 如果代码块中只有一行代码，那么{}可以省略：
2. if (…) 语句会计算圆括号内的表达式，并将计算结果转换为布尔型（Boolean）。

   - 转换规则和 Boolean 函数的规则一致；
   - 数字 0、空字符串 “”、null、undefined 和 NaN 都会被转换成 false。
     - 因为它们被称为“假值（falsy）”；
   - 其他值被转换为 true，所以它们被称为“真值（truthy）”；

![if](/img/web/javascript/js-base/分支-循环/if.jpg)

## 循环

- 循环 是一种重复运行同一代码的方法。
  - 如果是对某一个列表进行循环操作，我们通常也会称之为 遍历（traversal）或者迭代（iteration）；
- 在 JavaScript 中支持三种循环方式：
  - while 循环；
  - do..while 循环；
  - for 循环；

### while 循环

- while 循环的语法如下：
  - 当条件成立时，执行代码块；
  - 当条件不成立时，跳出代码块；
- 如果条件一直成立（为 true），那么会产生死循环。
  - 这个时候必须通过关闭页面来停止死循环；
  - 开发中一定要避免死循环的产生；

![while](/img/web/javascript/js-base/分支-循环/while.jpg)

### do..while 循环

- do..while 循环和 while 循环非常像，二者经常可以相互替代(不常用)
  - 但是 do..while 的特点是不管条件成不成立，do 循环体都会先执行一次；
- 通常我们更倾向于使用 while 循环。

![do-while](/img/web/javascript/js-base/分支-循环/do-while.jpg)

### for 循环

for 循环更加复杂，但它是最常使用的循环形式。

```js
for (begin; condition; step) {
  // 循环代码块
}
for (let i = 0; i < 3; i++) {
  // 循环代码块
}
```

![for](/img/web/javascript/js-base/分支-循环/dfor.jpg)

- begin 执行一次，然后进行迭代：每次检查 condition 后，执行 body 和 step

循环的嵌套（日常开发使用不算多，在一些算法中比较常见）

- 在开发中，某些情况下一次循环是无法达到目的的，我们需要循环中嵌套循环；

## 循环控制

- 循环的跳转（控制）：
  - 在执行循环过程中, 遇到某一个条件时, 我们可能想要做一些事情；
  - 比如循环体不再执行(即使没有执行完), 跳出循环；
  - 比如本次循环体不再执行, 执行下一次的循环体；
- 循环的跳转控制
- break: 直接跳出循环, 循环结束
  - break 某一条件满足时，退出循环，不再执行后续重复的代码
- continue: 跳过本次循环次, 执行下一次循环体
  - continue 指令是 break 的“轻量版”。
  - continue 某一条件满足时，不执行后续重复的代码

## 循环的总结

- while —— 每次迭代之前都要检查条件；
- do..while —— 每次迭代后都要检查条件；
- for (\;\;) —— 每次迭代之前都要检查条件，可以使用其他设置；

break/continue 可以对循环进行控制。
