# 从输入 url 到看到页面

## URL 解析

## DNS 解析

在发起 http 请求之前，浏览器首先要去获得网页的 IP 地址，浏览器会发送一个 UDP 的包给 DNS 域名解析服务器。

![url](/img/web/browser/url到显示/dns查询.jpg)

### 递归查询

我们的浏览器、操作系统、路由器都会缓存一些 URL 对应的 IP 地址，统称为 DNS 高速缓存。这是为了加快 DNS 解析速度，使得不必每次都到根域名服务器中去查询。
![递归查询](/img/web/browser/url到显示/递归查询.jpg)

### 迭代查询

迭代查询就是，局部的 DNS 服务器并不会自己向其他服务器进行查询，而是把能够解析该域名的服务器 IP 地址返回给客户端，客户端会不断的向这些服务器进行查询，直到查询到了位置。

### DNS 负载均衡

DNS 还有负载均衡的作用，现在很多网站都有多个服务器，当一个网站访问量过大的时候，如果所有请求都请求在同一个服务器上，可能服务器就会崩掉，这时候就用到了 DNS 负载均衡技术，当一个网站有多个服务器地址时，在应答 DNS 查询的时候，DNS 服务器会对每个查询返回不同的解析结果，也就是返回不同的 IP 地址，从而把访问引导到不同的服务器上去，来达到负载均衡的目的。例如可以根据每台机器的负载量，或者该机器距离用户的地理位置距离等等条件。

### DNS 预解析

大型网站，有多个不同服务器资源的情况下，都可采取 DNS 预解析，提前解析，减少页面卡顿。

## 建立 TCP 链接

## 客户端发送请求

## 服务器处理和响应请求

## 浏览器解析并渲染响应内容

## TCP 四次挥手断开连接
